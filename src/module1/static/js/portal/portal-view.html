<md-content layout="row">
  <div flex="33" style="width:200px;height:200px">
    <img ng-src="{{portal.image}}" style="max-height:96%;max-width:100%"></div>
  <div flex="66" layout="column">
    <h2>{{portal.title}}</h2>
    <span>{{portal.address}}</span>
    <span>{{portal.lat/1000000}} {{portal.lon/1000000}}</span>
    <div>
      <md-button ng-click="copyToClipboard(portal.gmapsUrl);">
        <md-icon md-svg-icon="maps:ic_map_24px"></md-icon>
      </md-button>
      <md-button ng-click="copyToClipboard(portal.ingressUrl);">
        <md-icon md-svg-icon="maps:ic_directions_car_24px"></md-icon>
      </md-button>
      <md-button ng-click="copyToClipboard(portal.wazeUrl);">
        <md-icon md-svg-icon="maps:ic_my_location_24px"></md-icon>
      </md-button>
    </div>
    <div layout="row" class="md-primary">
      <div class="label" ng-repeat="label in portal.labels">{{label}}</div>
    </div>
  </div>
</md-content>
<md-content flex layout="row">
<md-tabs flex md-selected="selectedIndex" class="minHeightMdTabsContent">
  <md-tab label="Mapa">
    <ui-gmap-google-map center="map.center" zoom="map.zoom" draggable="true" ng-if="refreshMap">
      <ui-gmap-marker idKey="'marker.id'" coords="marker.coords" options="marker.options" >
        <ui-gmap-window show="'showPopup'">
          <div>{{marker.options.labelContent}}</div>
        </ui-gmap-window>
      </ui-gmap-marker>
    </ui-gmap-google-map>
  </md-tab>
  <md-tab>
    <md-tab-label>Llaves</md-tab-label>
    <!--<md-toolbar layout="row" layout-padding layout-align="space-around center">
    <md-input-container flex="60">
      <md-autocomplete
              md-selected-item="agentMatchData"
              md-search-text="agentcodenameQuery"
              md-search-text-change="agentMatchData=''"
              md-items="acitem in querySearchAgentes(agentcodenameQuery)"
              md-item-text="codeName"
              placeholder="codename">
        <span md-highlight-text="key.agent">{{acitem.codeName}}</span>
      </md-autocomplete>
    </md-input-container>
    <div layout="row" flex="40" layout-align="end center">
      <md-input-container flex>
        <input type="number" ng-model="amount"></md-input-container>
      <md-button flex aria-label="" class="md-accent md-fab md-mini" ng-click="addKey(portal, agentMatchData, amount); key = {}">+</md-button>
    </div>
  </md-toolbar>
  -->
  <h2 ng-hide="portal.keys.length >0">Portal sin llaves</h2>
  <md-list flex>
    <md-item ng-repeat="key in portal.keys | orderBy:'agentId':true">
      <md-item-content>
        <div class="md-tile-content" ng-click="key.selectKey(item)">
          <h3>{{key.agent.codeName}}</h3>
        </div>
        <div>#{{key.amount}}</div>

        <!--<md-button ng-click="key.showTransaction($event, item)">
        <md-icon md-svg-icon="action:ic_swap_vert_24px"></md-icon>
      </md-button>
      <md-button ng-click="key.editAmount($event, item)">
        <md-icon md-svg-icon="image:ic_edit_24px"></md-icon>
      </md-button>
      -->
    </md-item-content>
    <md-divider ng-if="!$last"></md-divider>
  </md-item>
</md-list>
</md-tab>
<!--<md-tab>
<md-tab-label>Etiquetas</md-tab-label>
<div ng-include="'/partials/portal-labels.html'"></div>
</md-tab>
-->
<md-tab label="Info">
<div layout="column" layout-padding layout-align="start start">
<md-input-container>
  <label>Telefon√≠a Disponible</label>
  <textarea ng-model="portal.telefoniaDisponible"></textarea>
</md-input-container>
<md-input-container>
  <label>Horarios</label>
  <textarea ng-model="portal.horarios"></textarea>
</md-input-container>
<md-input-container>
  <label>Tipo de Recinto</label>
  <textarea ng-model="portal.tipoRecinto"></textarea>
</md-input-container>
<md-input-container>
  <label>Accesibilidad</label>
  <textarea ng-model="portal.accesibilidad"></textarea>
</md-input-container>
<md-input-container>
  <label>Tips</label>
  <textarea ng-model="portal.tips"></textarea>
</md-input-container>
</div>
</md-tab>

</md-tabs>
</md-content>